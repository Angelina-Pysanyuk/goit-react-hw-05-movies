"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[268],{554:function(n,t,e){e.d(t,{HA:function(){return f},Nj:function(){return p},Pl:function(){return i},Z$:function(){return s},vb:function(){return h}});var r=e(861),a=e(757),u=e.n(a),o=e(243),c="85016821a1bc8ff98f458419e9b647f9",i=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&query=").concat(t,"&page=1&include_adult=false"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(u().mark((function n(){var t,e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c));case 2:return t=n.sent,e=t.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(c,"&language=en-US"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(u().mark((function n(t){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"}/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},268:function(n,t,e){e.r(t),e.d(t,{default:function(){return g}});var r,a=e(861),u=e(439),o=e(757),c=e.n(o),i=e(791),s=e(87),p=e(689),f=e(184),h=function(n){var t=n.searchedMovies,e=(0,p.TH)();return(0,f.jsx)("section",{children:(0,f.jsx)("ul",{children:t.map((function(n){return(0,f.jsx)("li",{children:(0,f.jsx)(s.rU,{to:"/movies/".concat(n.id),state:{from:e},children:n.title})},n.id)}))})})},d=e(168),l=e(444).ZP.form(r||(r=(0,d.Z)(["\n  margin-left: 20px;\n  margin-top: 40px;\n  & input {\n    margin-right: 10px;\n    padding-left: 15px;\n    width: 250px;\n    height: 30px;\n    border: solid 1px #850000;\n    border-radius: 4px;\n    font-size: 16px;\n  }\n  & button {\n    height: 35px;\n    width: 105px;\n    font-size: 18px;\n    font-weight: 500;\n    text-align: center;\n    color: #850000;\n    border-radius: 4px;\n    border: solid 1px #850000;\n    background-color: white;\n    &:hover {\n      background-color: #850000;\n      color: white;\n      cursor: pointer;\n    }\n  }\n"]))),v=function(n){var t=n.onSubmit,e=(0,i.useState)(""),r=(0,u.Z)(e,2),a=r[0],o=r[1];return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(l,{onSubmit:function(n){n.preventDefault(),""!==a.trim()?(t(a),o("")):alert("Enter your query")},children:[(0,f.jsx)("input",{type:"text",name:"query",value:a,onChange:function(n){o(n.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})})},x=e(554),g=function(){var n=(0,s.lr)(),t=(0,u.Z)(n,2),e=t[0],r=t[1],o=(0,i.useState)([]),p=(0,u.Z)(o,2),d=p[0],l=p[1];return(0,i.useEffect)((function(){var n=e.get("query");if(n){var t=function(){var t=(0,a.Z)(c().mark((function t(){var e,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,x.Pl)(n);case 3:e=t.sent,r=e.results,l(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t(n)}}),[e]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{onSubmit:function(n){r({query:n}),l([])}}),d.length>0&&(0,f.jsx)(h,{searchedMovies:d})]})}}}]);
//# sourceMappingURL=268.c1e51762.chunk.js.map